const _0xbb08d5=_0xc1df;(function(_0x2616f5,_0x4f4dca){const _0x27b403=_0xc1df,_0x221962=_0x2616f5();while(!![]){try{const _0x1c3a8c=-parseInt(_0x27b403(0x10d))/0x1+-parseInt(_0x27b403(0x118))/0x2*(-parseInt(_0x27b403(0xff))/0x3)+parseInt(_0x27b403(0xb5))/0x4*(-parseInt(_0x27b403(0x105))/0x5)+-parseInt(_0x27b403(0xb7))/0x6+-parseInt(_0x27b403(0xef))/0x7*(-parseInt(_0x27b403(0xce))/0x8)+parseInt(_0x27b403(0x134))/0x9+-parseInt(_0x27b403(0x113))/0xa*(-parseInt(_0x27b403(0xdf))/0xb);if(_0x1c3a8c===_0x4f4dca)break;else _0x221962['push'](_0x221962['shift']());}catch(_0x4cb1bf){_0x221962['push'](_0x221962['shift']());}}}(_0x3ffd,0x5733c),console[_0xbb08d5(0xc3)]('Background\x20script\x20loaded'));import{franc}from'https://cdn.jsdelivr.net/npm/franc@6.2.0/+esm';chrome['runtime']['onInstalled']['addListener'](async()=>{const _0x2564a5=_0xbb08d5,_0x21afca={'gHKrD':_0x2564a5(0xf2),'mmaha':function(_0x4a2376,_0x25fee7){return _0x4a2376>_0x25fee7;}};for(const _0x268d5f of chrome[_0x2564a5(0xba)][_0x2564a5(0xc0)]()[_0x2564a5(0xf4)]){for(const _0x1e4165 of await chrome[_0x2564a5(0x12f)][_0x2564a5(0xec)]({'url':_0x268d5f[_0x2564a5(0x102)]})){if(_0x1e4165[_0x2564a5(0xf3)][_0x2564a5(0x108)](/(chrome|chrome-extension):\/\//gi))continue;const _0x4f67c0={'tabId':_0x1e4165['id'],'allFrames':_0x268d5f[_0x2564a5(0xbe)]};_0x268d5f['js']&&_0x268d5f['js'][_0x2564a5(0x12c)]>0x0&&chrome[_0x2564a5(0xd0)]['executeScript']({'files':_0x268d5f['js'],'injectImmediately':_0x268d5f[_0x2564a5(0xd3)]===_0x21afca[_0x2564a5(0x121)],'world':_0x268d5f[_0x2564a5(0x138)],'target':_0x4f67c0}),_0x268d5f[_0x2564a5(0xe9)]&&_0x21afca['mmaha'](_0x268d5f[_0x2564a5(0xe9)][_0x2564a5(0x12c)],0x0)&&chrome[_0x2564a5(0xd0)][_0x2564a5(0x11a)]({'files':_0x268d5f[_0x2564a5(0xe9)],'origin':_0x268d5f[_0x2564a5(0xc8)],'target':_0x4f67c0});}}});const OFFSCREEN_DOCUMENT_PATH=_0xbb08d5(0xf5);let creating;const keywords=[_0xbb08d5(0x13f),_0xbb08d5(0xe2),_0xbb08d5(0x139),_0xbb08d5(0xf8),_0xbb08d5(0xc1),_0xbb08d5(0x110),'Spanish\x20culture',_0xbb08d5(0x131),_0xbb08d5(0x140),'vlog\x20in\x20spanish',_0xbb08d5(0xe8),_0xbb08d5(0x132),_0xbb08d5(0xd9),_0xbb08d5(0xc4),'learning\x20spanish',_0xbb08d5(0xcb),_0xbb08d5(0x143),_0xbb08d5(0x133),'spanish','speaking\x20spanish\x20for\x2024\x20hours',_0xbb08d5(0xc1),_0xbb08d5(0xeb),'learn\x20Spanish',_0xbb08d5(0xbd),'Español',_0xbb08d5(0xe6)];async function hasDocument(){const _0x10e30a=_0xbb08d5,_0x16f3ca=await clients[_0x10e30a(0x12a)]();return _0x16f3ca[_0x10e30a(0xda)](_0x3f34f3=>_0x3f34f3[_0x10e30a(0xf3)]===chrome[_0x10e30a(0xba)][_0x10e30a(0x119)](OFFSCREEN_DOCUMENT_PATH));}async function setupOffscreenDocument(_0x58e56e){const _0x512a4e=_0xbb08d5,_0x4acc1b={'iycnB':function(_0x3e44d0){return _0x3e44d0();},'jzoyj':_0x512a4e(0x125)};!await _0x4acc1b[_0x512a4e(0x10e)](hasDocument)&&(creating?await creating:(creating=chrome['offscreen']['createDocument']({'url':_0x58e56e,'reasons':[chrome['offscreen'][_0x512a4e(0xe0)][_0x512a4e(0xcc)]],'justification':_0x4acc1b[_0x512a4e(0xd6)]}),await creating,creating=null));}async function closeOffscreenDocument(){const _0x52de75=_0xbb08d5,_0x32aa7a={'ELaoV':function(_0x44efa2){return _0x44efa2();},'EsSDd':'Offscreen\x20document\x20closed'};await _0x32aa7a['ELaoV'](hasDocument)&&(await chrome[_0x52de75(0x112)]['closeDocument'](),console[_0x52de75(0xc3)](_0x32aa7a[_0x52de75(0x10a)]));}async function getAuthPopup(){const _0x4712fa=_0xbb08d5,_0x30d111={'nEkTY':_0x4712fa(0x116)};try{const _0x25bbb2=await chrome[_0x4712fa(0xba)][_0x4712fa(0x111)]({'type':_0x30d111[_0x4712fa(0xfd)],'target':'offscreen'});return _0x25bbb2;}catch(_0x159846){throw _0x159846;}}async function updateMinutes(_0xe7b4c0){const _0x3322ec=_0xbb08d5,_0x3f56e3={'tUcBj':'update-minutes','wyAwS':_0x3322ec(0xf7)};try{const _0x413d06=await chrome[_0x3322ec(0xba)][_0x3322ec(0x111)]({'type':_0x3f56e3['tUcBj'],'target':_0x3322ec(0x112),'data':_0xe7b4c0});console[_0x3322ec(0xc3)]('res\x20from\x20update\x20minutes',_0x413d06);}catch(_0x9b85da){console[_0x3322ec(0xed)](_0x3f56e3['wyAwS'],_0x9b85da);throw _0x9b85da;}}function _0x3ffd(){const _0x121da9=['how\x20to\x20learn\x20spanish','some','LqCmQ','ojNcp','addListener','siGxy','855041ZFlSaL','Reason','uid','Spanish\x20vlog','kzJdM','iJFIy','POPUP_OPENED','Estudiar','status','vlog\x20in\x20spain','css','RkmTC','study\x20Spanish','query','error','description','791XSMQxY','apiKey','get','document_start','url','content_scripts','/offscreen.html','result','Error\x20updating\x20minutes:','Spanish\x20cuisine','message','spa','toLowerCase','SIUKs','nEkTY','cbKhR','3feGSGz','sign_out','FETCH_VIDEO_DETAILS','matches','tags','then','2105PcJbLJ','itowa','omRoY','match','oauthAccessToken','EsSDd','isVideoSpanish','User\x20not\x20found','643291lhkIms','iycnB','includes','Spanish\x20vocabulary','sendMessage','offscreen','60MzGGcr','firebase-signout','bJSBk','firebase-auth','bIyfV','753436QugmYQ','getURL','insertCSS','Error\x20updating\x20daily\x20goal:','active','JCssF','RaLtE','videoDetails','WPpeK','gHKrD','IbfVQ','onUpdated','XrDvR','authentication','PMKEA','dailyGoal','SidePanel\x20error:','ACZLT','matchAll','complete','length','WATCHED_ONE_MINUTE','LdROL','tabs','AqlgT','Spanish\x20language\x20practice','spanish\x20supermarket','barcelona\x20vlog','5638491afUtoN','Sign-out\x20error:','RDoBh','fetch-video-details','world','Spanish\x20food','wCNiQ','defaultAudioLanguage','videoId','vxJjl','onMessage','spanish','spanish\x20teacher','VmaqF','catch','spanish\x20vlog','WATCHED_ONE_MINUTE\x20being\x20sent\x20to\x20offscreen','res\x20from\x20fetch\x20video\x20details','set','4812utaawk','setPanelBehavior','1334058zdNail','UPDATE_DAILY_GOAL','sign_in','runtime','local','sidePanel','España','all_frames','IXmdE','getManifest','learning\x20Spanish','iNdRX','log','basic\x20spanish\x20phrases','type','XSDFC','vuoJs','origin','map','user','study\x20spanish\x20vlog','DOM_SCRAPING','res\x20from\x20daily\x20goal','18384esUIBM','GpkSJ','scripting','title','topLE','run_at','lastError','WdjXu','jzoyj','storage','Authentication\x20error:'];_0x3ffd=function(){return _0x121da9;};return _0x3ffd();}function _0xc1df(_0x75d32c,_0xdf9c5){const _0x3ffd41=_0x3ffd();return _0xc1df=function(_0xc1df46,_0x148ee7){_0xc1df46=_0xc1df46-0xb4;let _0x47c9bf=_0x3ffd41[_0xc1df46];return _0x47c9bf;},_0xc1df(_0x75d32c,_0xdf9c5);}async function updateDailyGoal(_0x5a5253,_0x29e1f5){const _0x22ef79=_0xbb08d5,_0x155108={'dlSJl':'update-daily-goal','RkmTC':_0x22ef79(0x112),'GpkSJ':_0x22ef79(0xcd)};try{const _0x3d9eb3=await chrome[_0x22ef79(0xba)][_0x22ef79(0x111)]({'type':_0x155108['dlSJl'],'target':_0x155108[_0x22ef79(0xea)],'data':{'userId':_0x5a5253,'dailyGoal':_0x29e1f5}});return console[_0x22ef79(0xc3)](_0x155108[_0x22ef79(0xcf)],_0x3d9eb3),_0x3d9eb3;}catch(_0x53bfbb){console[_0x22ef79(0xed)](_0x22ef79(0x11b),_0x53bfbb);throw _0x53bfbb;}}async function fetchVideoDetails(_0x1a0b5a,_0x25e78e){const _0x4c127e=_0xbb08d5,_0x3b8f00={'QMihZ':_0x4c127e(0x137),'RaLtE':_0x4c127e(0x145)};try{const _0x23333b=await chrome['runtime'][_0x4c127e(0x111)]({'type':_0x3b8f00['QMihZ'],'target':_0x4c127e(0x112),'data':{'videoId':_0x1a0b5a,'apiKey':_0x25e78e}});return console['log'](_0x3b8f00[_0x4c127e(0x11e)],_0x23333b),_0x23333b;}catch(_0x407ec7){throw _0x407ec7;}}async function firebaseAuth(){const _0x4f3216=_0xbb08d5,_0x532b9a={'AqlgT':function(_0xea9d9a){return _0xea9d9a();}};try{await setupOffscreenDocument(OFFSCREEN_DOCUMENT_PATH);const _0x4d194c=await _0x532b9a[_0x4f3216(0x130)](getAuthPopup),_0x57eb7c=_0x4d194c['result'];if(!_0x57eb7c[_0x4f3216(0xca)]&&_0x57eb7c[_0x4f3216(0xed)])throw new Error(_0x57eb7c[_0x4f3216(0xed)][_0x4f3216(0xf9)]);return await chrome[_0x4f3216(0xd7)][_0x4f3216(0xbb)][_0x4f3216(0xb4)]({'user':_0x57eb7c['user'],'accessToken':_0x57eb7c['_tokenResponse'][_0x4f3216(0x109)]}),_0x57eb7c;}catch(_0x2a7967){throw _0x2a7967;}}async function openOffscreenDoc(){const _0x33f8f0=_0xbb08d5,_0x16909e={'RDoBh':function(_0x151024,_0x2351ae){return _0x151024(_0x2351ae);},'kzJdM':_0x33f8f0(0xd8)};try{return await _0x16909e[_0x33f8f0(0x136)](setupOffscreenDocument,OFFSCREEN_DOCUMENT_PATH),!![];}catch(_0x1439a9){console['error'](_0x16909e[_0x33f8f0(0xe3)],_0x1439a9['message']);throw _0x1439a9;}}async function firebaseSignOut(){const _0x262174=_0xbb08d5,_0x6c29d7={'cqXYf':_0x262174(0x114),'dhymB':function(_0x148fa0){return _0x148fa0();},'topLE':_0x262174(0x135)};try{return await chrome[_0x262174(0xba)][_0x262174(0x111)]({'type':_0x6c29d7['cqXYf'],'target':_0x262174(0x112)}),await chrome[_0x262174(0xd7)][_0x262174(0xbb)]['remove'](_0x262174(0xca)),await _0x6c29d7['dhymB'](closeOffscreenDocument),console['log']('Sign-out\x20ACTUALLY\x20CLOSED\x20successful'),!![];}catch(_0x2d2a7e){console[_0x262174(0xed)](_0x6c29d7[_0x262174(0xd2)],_0x2d2a7e[_0x262174(0xf9)]);throw _0x2d2a7e;}}chrome['runtime'][_0xbb08d5(0x13e)]['addListener']((_0x12c091,_0x447a76,_0x2fd92e)=>{const _0x2e9dbf=_0xbb08d5,_0x1e4907={'YaGui':function(_0x1ba475,_0x3012c9){return _0x1ba475(_0x3012c9);},'iNdRX':_0x2e9dbf(0xb9),'LdROL':function(_0x5a70bb,_0x1efaf3){return _0x5a70bb(_0x1efaf3);},'omRoY':_0x2e9dbf(0x100),'WPpeK':_0x2e9dbf(0xf6),'IbfVQ':function(_0xce391d,_0x20f2f4){return _0xce391d(_0x20f2f4);},'AMash':'res','ACZLT':function(_0x3aae52,_0x11559d){return _0x3aae52(_0x11559d);},'SIUKs':'Error\x20updating\x20daily\x20goal:','VmaqF':function(_0x532091,_0x2a15c8,_0x222164){return _0x532091(_0x2a15c8,_0x222164);},'cbKhR':function(_0x31b57e,_0x5d5ad8){return _0x31b57e(_0x5d5ad8);},'iJFIy':function(_0x40bed4,_0x42b2a2){return _0x40bed4(_0x42b2a2);},'bKWHK':function(_0x469742,_0x220919){return _0x469742(_0x220919);},'LqCmQ':_0x2e9dbf(0x10c),'ojNcp':function(_0x4959e5,_0x4ea9c8){return _0x4959e5===_0x4ea9c8;},'siGxy':function(_0x373b17){return _0x373b17();},'OxvGm':function(_0x127922,_0x2710bc){return _0x127922===_0x2710bc;},'XrDvR':_0x2e9dbf(0x12d),'XSDFC':_0x2e9dbf(0x144),'PMKEA':'user','IXmdE':_0x2e9dbf(0xb8),'VLhSf':_0x2e9dbf(0x10b),'vuoJs':_0x2e9dbf(0xe5),'rJdlZ':function(_0x4ffb45,_0x3debe8){return _0x4ffb45===_0x3debe8;},'wCNiQ':_0x2e9dbf(0x101)};try{if(_0x1e4907[_0x2e9dbf(0xdc)](_0x12c091['type'],_0x1e4907[_0x2e9dbf(0xc2)]))return _0x1e4907['siGxy'](firebaseAuth)['then'](_0x23be89=>{const _0x58b92d=_0x2e9dbf;_0x1e4907['YaGui'](_0x2fd92e,{'success':!![],'type':_0x1e4907[_0x58b92d(0xc2)]});})[_0x2e9dbf(0x142)](_0x253933=>{const _0xf19f80=_0x2e9dbf;_0x1e4907[_0xf19f80(0x12e)](_0x2fd92e,{'success':![],'error':_0x253933[_0xf19f80(0xf9)]});}),!![];else{if(_0x1e4907['OxvGm'](_0x12c091['type'],_0x1e4907[_0x2e9dbf(0x107)]))return _0x1e4907[_0x2e9dbf(0xde)](firebaseSignOut)[_0x2e9dbf(0x104)](()=>{const _0x59fd4b=_0x2e9dbf;_0x1e4907[_0x59fd4b(0x12e)](_0x2fd92e,{'success':!![],'type':_0x1e4907[_0x59fd4b(0x107)]});}),!![];else{if(_0x12c091[_0x2e9dbf(0xc5)]===_0x1e4907[_0x2e9dbf(0x124)])return console[_0x2e9dbf(0xc3)](_0x1e4907[_0x2e9dbf(0xc6)]),chrome['storage']['local'][_0x2e9dbf(0xf1)]([_0x1e4907['PMKEA']],_0x120a89=>{const _0x527ade=_0x2e9dbf;console[_0x527ade(0xc3)](_0x1e4907[_0x527ade(0x120)],_0x120a89);const _0x32040e=_0x120a89['user'];if(_0x32040e){const _0x5f3264=_0x32040e['uid'];_0x1e4907[_0x527ade(0x122)](updateMinutes,_0x5f3264);}}),![];else{if(_0x1e4907[_0x2e9dbf(0xdc)](_0x12c091[_0x2e9dbf(0xc5)],_0x1e4907[_0x2e9dbf(0xbf)]))return chrome[_0x2e9dbf(0xd7)][_0x2e9dbf(0xbb)][_0x2e9dbf(0xf1)](_0x1e4907[_0x2e9dbf(0x126)],_0xd2875=>{const _0x55950b=_0x2e9dbf,_0x662c45=_0xd2875[_0x55950b(0xca)];if(_0x662c45){const _0x1c50cc=_0x662c45[_0x55950b(0xe1)];_0x1e4907[_0x55950b(0x141)](updateDailyGoal,_0x1c50cc,_0x12c091[_0x55950b(0x127)])[_0x55950b(0x104)](_0x260db2=>{const _0x58d337=_0x55950b;console[_0x58d337(0xc3)](_0x1e4907['AMash'],_0x260db2),_0x1e4907[_0x58d337(0x129)](_0x2fd92e,{'success':!![]});})[_0x55950b(0x142)](_0x28a686=>{const _0x59c4d0=_0x55950b;console[_0x59c4d0(0xed)](_0x1e4907[_0x59c4d0(0xfc)],_0x28a686),_0x1e4907[_0x59c4d0(0x12e)](_0x2fd92e,{'success':![]});});}else _0x1e4907[_0x55950b(0x129)](_0x2fd92e,{'success':![]});}),!![];else{if(_0x1e4907['ojNcp'](_0x12c091[_0x2e9dbf(0xc5)],_0x1e4907['VLhSf']))return isVideoInSpanish(_0x12c091[_0x2e9dbf(0x11f)])['then'](_0x2645c8=>{const _0x26f954=_0x2e9dbf;_0x1e4907[_0x26f954(0xfe)](_0x2fd92e,{'success':!![],'isSpanish':_0x2645c8});}),!![];else{if(_0x12c091['type']===_0x1e4907[_0x2e9dbf(0xc7)])_0x1e4907[_0x2e9dbf(0xde)](openOffscreenDoc)[_0x2e9dbf(0x104)](_0x5b5f38=>{const _0xce783c=_0x2e9dbf;_0x1e4907[_0xce783c(0xe4)](_0x2fd92e,{'success':!![]});});else{if(_0x1e4907['rJdlZ'](_0x12c091[_0x2e9dbf(0xc5)],_0x1e4907[_0x2e9dbf(0x13a)]))return console[_0x2e9dbf(0xc3)]('SS.UTL\x20video\x20request\x20recieved'),chrome['storage'][_0x2e9dbf(0xbb)][_0x2e9dbf(0xf1)]([_0x1e4907[_0x2e9dbf(0x126)]],_0x466637=>{const _0x14fc26=_0x2e9dbf,_0x56785b={'bIyfV':function(_0x5dd311,_0xef94ea){return _0x5dd311(_0xef94ea);}},_0x975e38=_0x466637[_0x14fc26(0xca)];if(_0x975e38){const _0x5542e1=_0x975e38[_0x14fc26(0xf0)];fetchVideoDetails(_0x12c091[_0x14fc26(0x13c)],_0x5542e1)['then'](_0x8d0aaf=>{const _0x52e53d=_0x14fc26;_0x56785b[_0x52e53d(0x117)](_0x2fd92e,{'success':!![],'videoDetails':_0x8d0aaf[_0x52e53d(0x11f)]});})['catch'](_0x2ba735=>{const _0x213657=_0x14fc26;_0x2fd92e({'success':![],'error':_0x2ba735[_0x213657(0xf9)]});});}else _0x1e4907['bKWHK'](_0x2fd92e,{'success':![],'error':_0x1e4907[_0x14fc26(0xdb)]});}),!![];}}}}}}}catch(_0x50978c){_0x1e4907[_0x2e9dbf(0x122)](_0x2fd92e,{'success':![],'error':_0x50978c[_0x2e9dbf(0xf9)]});}});async function isVideoInSpanish(_0x494ebb){const _0x5cc57f=_0xbb08d5,_0x2ae9c9={'itowa':function(_0x4bbfaf,_0x5eb8e5){return _0x4bbfaf(_0x5eb8e5);},'WdjXu':_0x5cc57f(0xfa),'bJSBk':function(_0x3f6b50,_0x26cb58){return _0x3f6b50||_0x26cb58;}},_0x200832=_0x494ebb[_0x5cc57f(0x103)]?_0x494ebb['tags'][_0x5cc57f(0xc9)](_0x269dd8=>_0x269dd8['toLowerCase']()):[],_0x37db8a=keywords[_0x5cc57f(0xc9)](_0x4ddd46=>_0x4ddd46['toLowerCase']()),_0x129d32=_0x200832[_0x5cc57f(0xda)](_0x3c6733=>_0x37db8a[_0x5cc57f(0x10f)](_0x3c6733)),_0x29c65a=_0x494ebb[_0x5cc57f(0x13b)]?_0x494ebb['defaultAudioLanguage'][_0x5cc57f(0xfb)]():'',_0x574f5c=_0x2ae9c9['itowa'](franc,_0x494ebb[_0x5cc57f(0xd1)])===_0x2ae9c9[_0x5cc57f(0xd5)],_0x26e6fa=_0x2ae9c9[_0x5cc57f(0x106)](franc,_0x494ebb[_0x5cc57f(0xee)])===_0x5cc57f(0xfa),_0x164303=_0x2ae9c9[_0x5cc57f(0x115)](_0x129d32,_0x574f5c)||_0x26e6fa||_0x29c65a[_0x5cc57f(0x10f)]('es');return _0x164303;}chrome[_0xbb08d5(0x12f)][_0xbb08d5(0x123)][_0xbb08d5(0xdd)]((_0x1f583c,_0x591b52,_0x548939)=>{const _0x20dc0b=_0xbb08d5,_0x572e32={'JCssF':'TAB_UPDATED','QAAAt':function(_0x3a21ad,_0x1031c7){return _0x3a21ad===_0x1031c7;},'vxJjl':_0x20dc0b(0x12b),'ePUBB':function(_0x14b57f,_0x505ddb,_0x29789f){return _0x14b57f(_0x505ddb,_0x29789f);}};_0x572e32['QAAAt'](_0x591b52[_0x20dc0b(0xe7)],_0x572e32[_0x20dc0b(0x13d)])&&_0x548939[_0x20dc0b(0x11c)]&&_0x591b52[_0x20dc0b(0xf3)]&&_0x572e32['ePUBB'](setTimeout,()=>{const _0x3d119a=_0x20dc0b;chrome['tabs'][_0x3d119a(0x111)](_0x1f583c,{'type':_0x572e32[_0x3d119a(0x11d)]},_0x2a486f=>{const _0x5a4539=_0x3d119a;chrome[_0x5a4539(0xba)][_0x5a4539(0xd4)]&&console[_0x5a4539(0xed)]('Message\x20send\x20error:',chrome[_0x5a4539(0xba)][_0x5a4539(0xd4)][_0x5a4539(0xf9)]);});},0x3e8);}),chrome[_0xbb08d5(0xbc)][_0xbb08d5(0xb6)]({'openPanelOnActionClick':!![]})[_0xbb08d5(0x142)](_0x221af3=>console[_0xbb08d5(0xed)](_0xbb08d5(0x128),_0x221af3));