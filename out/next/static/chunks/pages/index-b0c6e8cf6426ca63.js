(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,n,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return s(2603)}])},2603:function(e,n,s){"use strict";s.r(n),s.d(n,{default:function(){return o}});var t=s(5893),c=s(7294);function o(){let[e,n]=c.useState(null),[s,o]=c.useState(!1);(0,c.useEffect)(()=>{a(),chrome.runtime.sendMessage({message:"POPUP_OPENED"}),chrome.windows.getCurrent(e=>{let n=e.id,s="watchingSpanish-".concat(n);chrome.storage.onChanged.addListener((e,n)=>{if("local"===n&&e[s]){let n=e[s].newValue;console.log("Storage key ".concat(s," changed to ").concat(n)),o(n)}}),chrome.storage.local.get([s],e=>{let n=e[s];void 0!==n&&o(n)})})},[]);let a=()=>{chrome.storage.local.get(["user"],e=>{let s=e.user;s?n(s):console.log("User not signed in")})},i=async()=>{let e=await chrome.runtime.sendMessage({message:"sign_in"});e.success&&a()},l=async()=>{let e=await chrome.runtime.sendMessage({message:"sign_out"});e.success&&n(null)};return(0,t.jsx)("div",{className:"h-screen w-full bg-green-200",children:e?(0,t.jsxs)("div",{children:[(0,t.jsxs)("h1",{children:["Welcome ",e.displayName]}),(0,t.jsxs)("h2",{children:["Watching Spanish: ",s?"Yes":"No"]}),(0,t.jsx)("button",{onClick:e=>{e.preventDefault(),l()},children:"Sign Out"})]}):(0,t.jsx)("button",{onClick:e=>{e.preventDefault(),i()},children:"Sign InLOOOL"})})}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);