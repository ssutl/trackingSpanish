(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return s(2603)}])},2603:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return c}});var n=s(5893),r=s(7294),l=s(3692);function c(){let[e,t]=r.useState(null),[s,c]=r.useState(!1);(0,r.useEffect)(()=>{i(),chrome.runtime.sendMessage({message:"POPUP_OPENED"}),chrome.windows.getCurrent(e=>{let t=e.id,s="watchingSpanish-".concat(t);chrome.storage.onChanged.addListener((e,t)=>{if("local"===t&&e[s]){let t=e[s].newValue;console.log("Storage key ".concat(s," changed to ").concat(t)),c(t)}}),chrome.storage.local.get([s],e=>{let t=e[s];void 0!==t&&c(t)})})},[]);let i=()=>{chrome.storage.local.get(["user"],e=>{let s=e.user;s?t(s):console.log("User not signed in")})},o=async()=>{let e=await chrome.runtime.sendMessage({message:"sign_in"});e.success&&i()},a=async()=>{let e=await chrome.runtime.sendMessage({message:"sign_out"});e.success&&t(null)},d=()=>(0,n.jsx)("div",{className:"w-full flex justify-center items-center px-10 h-16 border-b border-white border-opacity-5 text-white",children:(0,n.jsx)("h1",{className:"text-xl font-medium",children:"Tracking Spanish"})}),u=()=>e&&(0,n.jsx)("div",{className:"w-full flex text-white border-t px-10 h-16 border-white border-opacity-5 ",children:(0,n.jsx)("h1",{children:"es it need something Do"})}),h=()=>(0,n.jsx)("div",{className:"flex-grow w-full px-10",children:e?(0,n.jsx)("button",{onClick:a,className:"bg-secondary px-4 py-2 rounded-md w-full border border-white border-opacity-5 text-white flex justify-center",children:"Sign out"}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("h1",{className:"text-2xl text-white",children:"Continue your journey to Spanish fluency"}),(0,n.jsx)("button",{onClick:o,className:"bg-secondary px-4 py-2 rounded-md w-full border border-white border-opacity-5 text-white flex justify-center",children:(0,n.jsxs)("div",{className:"flex items-center text-lg",children:[(0,n.jsx)(l.csj,{className:"mr-5 text-xl"}),"Sign in with Google"]})})]})});return(0,n.jsxs)("div",{className:"flex flex-col h-screen w-full bg-primary overflow-y-hidden",children:[(0,n.jsx)(d,{}),(0,n.jsx)(h,{}),(0,n.jsx)(u,{})]})}}},function(e){e.O(0,[692,774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);