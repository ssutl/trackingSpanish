(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,n,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return s(2603)}])},2603:function(e,n,s){"use strict";s.r(n),s.d(n,{default:function(){return o}});var t=s(5893),i=s(7294);function o(){let[e,n]=i.useState(null),[s,o]=i.useState(!1);(0,i.useEffect)(()=>{a(),chrome.runtime.sendMessage({message:"POPUP_OPENED"}),chrome.runtime.onMessage.addListener((e,n,s)=>{console.log("message",e),void 0!==e.watchingSpanish&&(e.watchingSpanish?(console.log("You are watching a Spanish video."),o(!0)):(console.log("You are not watching a Spanish video."),o(!1)))})},[]);let a=()=>{chrome.storage.local.get(["user"],e=>{let s=e.user;s?n(s):console.log("User not signed in")})},c=async()=>{let e=await chrome.runtime.sendMessage({message:"sign_in"});e.success&&a()},u=async()=>{let e=await chrome.runtime.sendMessage({message:"sign_out"});e.success&&n(null)};return(0,t.jsx)("div",{children:e?(0,t.jsxs)("div",{children:[(0,t.jsxs)("h1",{children:["Welcome ",e.displayName]}),(0,t.jsxs)("h2",{children:["Watching Spanish: ",s?"Yes":"No"]}),(0,t.jsx)("button",{onClick:e=>{e.preventDefault(),u()},children:"Sign Out"})]}):(0,t.jsx)("button",{onClick:e=>{e.preventDefault(),c()},children:"Sign InLOOOL"})})}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);